@model List<BloodCompingViewModel>;

@{
    ViewData["Title"] = "Campings";
}
<!-- Preloader -->
<div id="preloader">
    <div class="preloader">
        <span></span>
        <span></span>
    </div>
</div>
<!-- Header Start -->
<section class="promo-area" data-stellar-background-ratio="0.5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="promo-wrap">
                    <h1 class="promo-title">Blood <span>Banks</span></h1>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Promo Area End -->

<!-- Cause Page Start -->
<div class="single-blog section-padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <article class="article-entry">
                    <!-- <figure>
                            <img src="images/blog/sblog.jpg" alt="">
                        </figure> -->
                    <div class="post-detials">
                        <h2 class="article-title mb-3">
                            The Benefits of Blood Donation
                        </h2>
                        <!-- <div class="article-meta">
                                <span><a href="#"><i class="fa fa-user"></i>Jeffery Way</a></span>
                                <span><i class="fa fa-calendar"></i> 23-2-2018</span>
                                <span><a href="#"><i class="fa fa-comment"></i>Comments (23)</a></span>
                                <span><a href="#"><i class="fa fa-map-marker"></i>South Africa</a></span>
                            </div> -->
                        <p>
                            Blood donation is a noble humanitarian act that saves lives
                            every day. It provides critical support for patients who
                            require blood for surgery, accident recovery, or fighting
                            serious illnesses. Donating blood stimulates the donor’s
                            circulatory system and encourages the production of new blood
                            cells, enhancing overall well-being.
                            <br />
                            Regular donations may even lower the risk of heart disease by
                            maintaining balanced iron levels. Many centers also offer
                            complimentary health screenings during donation appointments,
                            helping detect potential issues early on. Moreover, donating
                            blood instills a deep sense of fulfillment and pride, as each
                            donor contributes to a vital community resource. By giving a
                            small part of themselves, donors help build a resilient
                            society while experiencing personal growth and a renewed
                            connection to humanity. In this way, blood donation is not
                            only an act of kindness but also a step toward improving your
                            own long-term wellness.
                        </p>

                        <h2 class="article-title mb-3">Project objectives</h2>
                        <ul class="info-list">
                            <li>
                                ​Ensure a consistent supply of safe, voluntary blood
                                donations.
                            </li>
                            <li>
                                ​Educate communities on the importance of regular blood
                                donation.
                            </li>
                            <li>
                                ​Foster a culture of altruism through donor recognition
                                programs.
                            </li>
                            <li>
                                ​Expand donor outreach via mobile drives and local
                                partnerships.
                            </li>
                        </ul>
                    </div>
                </article>
            </div>
            <div class="col-lg-4 col-sm-12">
                <aside class="sidebar">
                    <!-- Search Widget -->

                    <!-- Category Widget -->
                    <div class="widget">
                        <h3 class="widget-title">Fields Nashmi</h3>
                        <ul>
                        <li><a href="~/Home/Categories/28">
                                Educational</a></li>
                        <li><a href="~//Home/Categories/29">
                                Nutrition</a></li>
                        <li><a href="~/Home/Categories/30">
                                Healthcare</a></li>
                        <li><a href="~/Home/Categories/31">
                                Social Solidarity</a></li>
                        <li><a href="Home/Categories/32">
                                Religious</a></li>
                        </ul>
                    </div>
                </aside>
            </div>
        </div>
    </div>
</div>

<section class="causes-area cause-page section-padding">
    <div class="container">
        <div class="row">
            
            @if (Model != null)
            {
                @foreach (var comping in Model)
            {
                     <div class="col-lg-4 col-sm-4">
                    <div class="single-cause">
<figure class="cause-thumb">
  <img
    src="@comping.Hospital.ImageURL"
    class="img-fluid rounded shadow"
    width="280"
    height="150"
    style="object-fit: cover;"
    alt="Hospital Thumbnail"
  />
</figure>



                 <div class="cause-detials">
                
                    <a href="/Home/HospitalDetails/@comping.Hospital.Id">
                        <h3>@comping.Hospital.Name</h3>
                    </a>
                    
                <!-- <span class="bi bi-geo-alt">@comping.Hospital.Address</span> -->

                <p class="importantBlood">
                    Highest Virtue Needed &nbsp; | &nbsp;
                    <span class="unitBlood">@comping.Type</span>
                </p>
                <div class="cause-donate">
                    <div class="cause-raise"><label>Collected</label> @comping.Amount Unit</div>
                    <div class="cause-goal"><label>Goal</label> @comping.Goal Unit</div>
                </div>
                <div class="progress">
                    @{
                        var percent = (comping.Amount.HasValue && comping.Goal.HasValue && comping.Goal > 0)
                            ? (int)(comping.Amount.Value * 100 / comping.Goal.Value)
                            : 0;
                    }
                    <div class="progress-bar wow fadeInLeft" role="progressbar"
                         style="width: @percent%" aria-valuenow="@percent" aria-valuemin="0" aria-valuemax="100">
                        @percent%
                    </div>
                </div>
                <hr />
                <a href="#" onclick="openModal('@comping.Hospital.Id', '@comping.Hospital.Name','@comping.Type','@comping.Id'); return false;">
                       <p class="details">Donate now</p>
                </a>
                   </div>
                   </div>
                 </div>
            }
        }
        else
        {
                <p class="text-danger">No Camps available to display.</p>
        }
            @*  *@
        </div>

    </div>

</section>


<!-- Footer Area Start -->
<footer class="footer-area">
    <div class="footer-top"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-sm-6">
                <div class="footer-widget footer-about">
                    <div class="f-logo">
                        <a href="#">
                            <img src="~/images/components/logo-ye.png" alt="Logo" />
                        </a>
                    </div>
                    <p>
                        Support life-saving causes and empower communities by donating
                        money to provide essential resources, donating blood to save
                        lives, and shopping with us to support low-income entrepreneurs.
                    </p>
                    <div class="footer-social">
                        <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#"><i class="fa-brands fa-twitter"></i></a>
                        <a href="#"><i class="fa-brands fa-youtube"></i></a>
                        <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="col-lg-2 offset-lg-1 col-sm-5 offset-sm-1">
                <div class="footer-widget">
                    <h3 class="widget-title">Useful Links</h3>
                    <ul>
                        <li><a href="~/">Profile</a></li>
                        <li><a href="~/Home/AboutUs">About Us</a></li>
                        <li><a href="~/Home/BloodCamping">Blood donation</a></li>
                        <li><a href="~/Shop/Index">Shop</a></li>
                        <li><a href="~/ContactRequest/CreateContact">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-2 col-sm-6">
                <div class="footer-widget">
                    <h3 class="widget-title">Filde Nashmi </h3>
                    <ul>
                        <li><a href="~/Home/Categories/28">
                                Educational</a></li>
                        <li><a href="~//Home/Categories/29">
                                Nutrition</a></li>
                        <li><a href="~/Home/Categories/30">
                                Healthcare</a></li>
                        <li><a href="~/Home/Categories/31">
                                Social Solidarity</a></li>
                        <li><a href="Home/Categories/32">
                                Religious</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3 col-sm-5 offset-sm-1 offset-lg-0">
                <div class="footer-widget">
                    <h3 class="widget-title">Contact Us</h3>
                    <ul class="footer-contact">
                        <li>
                            <i class="fa fa-home"></i>
                            <span>Jordan Amman</span>
                        </li>
                        <li>
                            <i class="fa fa-phone"></i>
                            <span><a href="tel:+00962787020188">00962787020188</a></span>
                        </li>
                        <li>
                            <i class="fa fa-envelope"></i>
                            <span><a href="mailto:omarsarawi66@gmail.com">nashmi@gmail.com</a></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row copy-right g-0">
            <div class="col-xl-6 col-md-7 order-2 order-md-1">
                <p>
                    Copyright © 2025. All Rights Reserved by
                    <a href="#">Nashmi</a>
                </p>
            </div>

        </div>
    </div>
</footer>
<!-- Footer Area Start -->

<!-- Modal Background -->
<div id="donationModal" style="
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 10;
    align-items: center;
    justify-content: center;
">

    <!-- Modal Content -->
    <div style="
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    ">
        <h4 id="modalTitle"></h4>
        <form id="donationForm" method="post" asp-controller="BloodDonations" asp-action="CreateDonor">
       <input type="hidden" name="BloodCompingId" id="bloodCompingId"  />
            <div class="text-end mt-4">
                <button type="submit" class="btn btn-danger">Yes, I agree</button>
                <button type="button" class="btn btn-secondary ms-2" onclick="closeModal()">No</button>
            </div>
        </form>
    </div>
</div>

<script>
    function openModal(hospitalId, hospitalName,bloodType,compingId) {
        document.getElementById("modalTitle").textContent =
            `Do you want to donate blood type ${bloodType} for ${hospitalName}?`;
        document.getElementById("bloodCompingId").value = compingId;
        document.getElementById("donationModal").style.display = "flex";

    }

    function closeModal() {
        document.getElementById("donationModal").style.display = "none";
    }
</script>